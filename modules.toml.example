# RusToK Module Manifest (EXAMPLE with UI Packages)
# Это пример манифеста с UI пакетами для админки и фронтенда
# Оригинальный манифест находится в modules.toml

schema = 1
app = "rustok-server"

[build]
target = "x86_64-unknown-linux-gnu"
profile = "release"
deployment_profile = "monolith" # monolith | headless

[modules]
# Core modules (required)
content = {
    crate = "rustok-content",
    source = "path",
    path = "crates/rustok-content"
}

# Domain modules (optional)
commerce = {
    crate = "rustok-commerce",
    source = "path",
    path = "crates/rustok-commerce",
    # UI пакеты для админки и витрины
    admin_ui = "leptos-commerce-admin",
    storefront_ui = "leptos-commerce-storefront",
    admin_ui_path = "crates/leptos-commerce-admin",
    storefront_ui_path = "crates/leptos-commerce-storefront",
    admin_ui_version = "0.1.0",
    storefront_ui_version = "0.1.0"
}

blog = {
    crate = "rustok-blog",
    source = "path",
    path = "crates/rustok-blog",
    # Только admin UI для блога
    admin_ui = "leptos-blog-admin",
    admin_ui_path = "crates/leptos-blog-admin",
    admin_ui_version = "0.1.0"
}

forum = {
    crate = "rustok-forum",
    source = "path",
    path = "crates/rustok-forum",
    # UI пакеты интегрированы в приложения (не отдельные crates)
    admin_ui = "integrated",
    storefront_ui = "leptos-forum-storefront",
    storefront_ui_path = "crates/leptos-forum-storefront",
    storefront_ui_version = "0.1.0"
}

pages = {
    crate = "rustok-pages",
    source = "path",
    path = "crates/rustok-pages"
    # Без UI пакетов (использует стандартные компоненты)
}

# Infrastructure modules
index = {
    crate = "rustok-index",
    source = "path",
    path = "crates/rustok-index"
    # Infra модули обычно не имеют UI
}

outbox = {
    crate = "rustok-outbox",
    source = "path",
    path = "crates/rustok-outbox"
    # Infra модули обычно не имеют UI
}

[settings]
default_enabled = ["content", "commerce", "pages"]
